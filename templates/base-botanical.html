<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{BRIDE_NAME}} & {{GROOM_NAME}} - –í–µ–Ω—á–∞—ö–µ</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåø</text></svg>">
  {{THEME_FONTS}}
  {{THEME_CSS}}
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --color-bg: #F5F0E8;
      --color-surface: #FAF7F2;
      --color-text: #2D4A3E;
      --color-text-muted: #5A7A6E;
      --color-accent: #8B4513;
      --color-highlight: #DEB887;
      --color-border: #C9B8A6;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'EB Garamond', Georgia, serif;
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.8;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Aged paper texture */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E"),
        radial-gradient(ellipse at center, var(--color-bg) 0%, #E8DFD0 100%);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 2rem;
      position: relative;
      z-index: 1;
    }

    /* Herbarium cover */
    .herbarium-cover {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 3rem 2rem;
      position: relative;
    }

    .cover-frame {
      background: var(--color-surface);
      padding: 4rem 3rem;
      border: 2px solid var(--color-border);
      position: relative;
      max-width: 500px;
    }

    .cover-frame::before {
      content: '';
      position: absolute;
      top: 10px;
      left: 10px;
      right: 10px;
      bottom: 10px;
      border: 1px solid var(--color-border);
    }

    .cover-label {
      font-family: 'Playfair Display SC', serif;
      font-size: 0.7rem;
      letter-spacing: 0.4em;
      color: var(--color-accent);
      margin-bottom: 2rem;
      text-transform: uppercase;
    }

    .cover-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 6vw, 3rem);
      font-weight: 400;
      margin-bottom: 1rem;
      line-height: 1.3;
    }

    .cover-title .ampersand {
      display: block;
      font-style: italic;
      font-size: 0.6em;
      color: var(--color-accent);
      margin: 0.5rem 0;
    }

    .cover-date {
      font-family: 'Courier Prime', monospace;
      font-size: 0.85rem;
      color: var(--color-text-muted);
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--color-border);
    }

    .cover-botanical {
      font-size: 4rem;
      position: absolute;
      opacity: 0.15;
    }

    .cover-botanical-1 { top: 5%; left: 5%; transform: rotate(-15deg); }
    .cover-botanical-2 { bottom: 5%; right: 5%; transform: rotate(15deg); }

    /* Specimen page layout */
    .specimen-page {
      padding: 4rem 0;
      position: relative;
    }

    .specimen-card {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      padding: 2.5rem;
      position: relative;
      margin-bottom: 3rem;
    }

    .specimen-number {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-family: 'Courier Prime', monospace;
      font-size: 0.75rem;
      color: var(--color-text-muted);
    }

    .specimen-label {
      font-family: 'Courier Prime', monospace;
      font-size: 0.7rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--color-accent);
      margin-bottom: 0.5rem;
    }

    .specimen-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-style: italic;
      margin-bottom: 1rem;
    }

    .specimen-common {
      font-size: 1.1rem;
      color: var(--color-text-muted);
      margin-bottom: 1.5rem;
    }

    .specimen-details {
      border-top: 1px dashed var(--color-border);
      padding-top: 1.5rem;
      margin-top: 1.5rem;
    }

    .specimen-row {
      display: flex;
      margin-bottom: 0.75rem;
      font-size: 0.95rem;
    }

    .specimen-row-label {
      font-family: 'Courier Prime', monospace;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--color-text-muted);
      width: 120px;
      flex-shrink: 0;
    }

    .specimen-row-value {
      flex: 1;
    }

    .specimen-link {
      color: var(--color-accent);
      text-decoration: none;
      border-bottom: 1px dotted var(--color-accent);
    }

    /* Pressed flower illustration */
    .flower-illustration {
      text-align: center;
      padding: 2rem;
      font-size: 5rem;
      opacity: 0.6;
    }

    /* Invitation card */
    .invitation-specimen {
      text-align: center;
      padding: 3rem;
    }

    .invitation-intro {
      font-style: italic;
      color: var(--color-text-muted);
      margin-bottom: 1.5rem;
    }

    .invitation-text {
      font-size: 1.1rem;
      line-height: 2;
      max-width: 450px;
      margin: 0 auto;
    }

    /* Story section */
    {{#IF_STORY}}
    .story-specimen {
      background: linear-gradient(135deg, var(--color-surface) 0%, var(--color-bg) 100%);
    }

    .story-text {
      font-style: italic;
      line-height: 2.2;
      color: var(--color-text-muted);
      text-align: center;
    }
    {{/IF_STORY}}

    /* Field notes RSVP */
    .field-notes {
      background: var(--color-surface);
      border: 2px solid var(--color-accent);
      max-width: 500px;
      margin: 0 auto;
      position: relative;
    }

    .field-notes::before {
      content: '';
      position: absolute;
      top: 0;
      left: 60px;
      bottom: 0;
      width: 1px;
      background: var(--color-highlight);
    }

    .field-header {
      background: var(--color-accent);
      color: var(--color-bg);
      padding: 1rem 1.5rem;
      font-family: 'Playfair Display SC', serif;
      letter-spacing: 0.15em;
    }

    .field-body {
      padding: 2rem;
      padding-left: 80px;
    }

    .field-date {
      font-family: 'Courier Prime', monospace;
      font-size: 0.8rem;
      color: var(--color-text-muted);
      margin-bottom: 1.5rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      font-family: 'Caveat', cursive;
      font-size: 1.1rem;
      color: var(--color-text-muted);
      margin-bottom: 0.5rem;
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      padding: 0.75rem;
      border: none;
      border-bottom: 1px solid var(--color-border);
      background: transparent;
      font-family: 'EB Garamond', Georgia, serif;
      font-size: 1rem;
      color: var(--color-text);
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--color-accent);
    }

    .form-textarea {
      min-height: 80px;
      resize: vertical;
      border: 1px solid var(--color-border);
      padding: 1rem;
    }

    .attendance-options {
      display: flex;
      gap: 2rem;
    }

    .radio-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
    }

    .radio-label input {
      appearance: none;
      width: 18px;
      height: 18px;
      border: 1px solid var(--color-accent);
      border-radius: 50%;
      cursor: pointer;
      position: relative;
    }

    .radio-label input:checked::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      background: var(--color-accent);
      border-radius: 50%;
    }

    .submit-btn {
      width: 100%;
      padding: 1rem 2rem;
      background: var(--color-text);
      color: var(--color-bg);
      border: none;
      font-family: 'Playfair Display SC', serif;
      font-size: 0.9rem;
      letter-spacing: 0.2em;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 1rem;
    }

    .submit-btn:hover {
      background: var(--color-accent);
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 4rem 0;
    }

    {{#IF_HASHTAG}}
    .footer-hashtag {
      font-family: 'Caveat', cursive;
      font-size: 1.8rem;
      color: var(--color-accent);
      margin-bottom: 1rem;
    }
    {{/IF_HASHTAG}}

    .footer-botanical {
      font-size: 2rem;
      opacity: 0.6;
    }

    /* Growing animation */
    .grow-in {
      opacity: 0;
      transform: translateY(30px) scale(0.95);
      transition: all 0.8s ease-out;
    }

    .grow-in.visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Responsive */
    @media (max-width: 600px) {
      .cover-frame {
        padding: 3rem 2rem;
      }

      .specimen-row {
        flex-direction: column;
        gap: 0.25rem;
      }

      .specimen-row-label {
        width: auto;
      }

      .field-notes::before {
        display: none;
      }

      .field-body {
        padding-left: 2rem;
      }
    }
  </style>
</head>
<body>

  <!-- Herbarium Cover -->
  <section class="herbarium-cover">
    <span class="cover-botanical cover-botanical-1">üåø</span>
    <span class="cover-botanical cover-botanical-2">üçÉ</span>

    <div class="cover-frame">
      <div class="cover-label">Herbarium Matrimoniale</div>
      <h1 class="cover-title">
        {{BRIDE_NAME}}
        <span class="ampersand">&</span>
        {{GROOM_NAME}}
      </h1>
      <div class="cover-date">–î–∞—Ç—É–º: {{WEDDING_DATE_FORMATTED}}</div>
    </div>
  </section>

  <div class="container">

    <!-- Specimen: The Couple -->
    <section class="specimen-page">
      <div class="specimen-card grow-in">
        <div class="specimen-number">Spec. No. 001</div>
        <div class="specimen-label">Specimen</div>
        <div class="specimen-name">Amor Eternus</div>
        <div class="specimen-common">–í–µ—á–Ω–∞ —ô—É–±–∞–≤</div>

        <div class="flower-illustration">üå∏</div>

        <div class="invitation-specimen">
          <p class="invitation-intro">{{INVITATION_INTRO}}</p>
          <p class="invitation-text">{{INVITATION_TEXT}}</p>
        </div>
      </div>
    </section>

    <!-- Story -->
    {{#IF_STORY}}
    <section class="specimen-page">
      <div class="specimen-card story-specimen grow-in">
        <div class="specimen-number">Spec. No. 002</div>
        <div class="specimen-label">Observationes</div>
        <div class="specimen-name">Historia Nostra</div>
        <div class="specimen-common">–ù–∞—à–∞ –ø—Ä–∏—á–∞</div>
        <div class="specimen-details">
          <p class="story-text">{{STORY_TEXT}}</p>
        </div>
      </div>
    </section>
    {{/IF_STORY}}

    <!-- Specimen: Ceremony -->
    <section class="specimen-page">
      <div class="specimen-card grow-in">
        <div class="specimen-number">Spec. No. 003</div>
        <div class="specimen-label">Locus Ceremoniae</div>
        <div class="specimen-name">{{CEREMONY_VENUE}}</div>
        <div class="specimen-common">–ú–µ—Å—Ç–æ –≤–µ–Ω—á–∞—ö–∞</div>

        <div class="flower-illustration">üå∑</div>

        <div class="specimen-details">
          <div class="specimen-row">
            <span class="specimen-row-label">–ê–¥—Ä–µ—Å–∞:</span>
            <span class="specimen-row-value">{{CEREMONY_ADDRESS}}</span>
          </div>
          <div class="specimen-row">
            <span class="specimen-row-label">–í—Ä–µ–º–µ:</span>
            <span class="specimen-row-value">{{CEREMONY_TIME}}</span>
          </div>
          {{#IF_CEREMONY_MAP}}
          <div class="specimen-row">
            <span class="specimen-row-label">–ú–∞–ø–∞:</span>
            <span class="specimen-row-value">
              <a href="{{CEREMONY_MAP_URL}}" target="_blank" class="specimen-link">–ü–æ–≥–ª–µ–¥–∞—ò –ª–æ–∫–∞—Ü–∏—ò—É ‚Üí</a>
            </span>
          </div>
          {{/IF_CEREMONY_MAP}}
        </div>
      </div>
    </section>

    <!-- Specimen: Reception -->
    <section class="specimen-page">
      <div class="specimen-card grow-in">
        <div class="specimen-number">Spec. No. 004</div>
        <div class="specimen-label">Locus Celebrationis</div>
        <div class="specimen-name">{{RECEPTION_VENUE}}</div>
        <div class="specimen-common">–ú–µ—Å—Ç–æ –ø—Ä–æ—Å–ª–∞–≤–µ</div>

        <div class="flower-illustration">üå∫</div>

        <div class="specimen-details">
          <div class="specimen-row">
            <span class="specimen-row-label">–ê–¥—Ä–µ—Å–∞:</span>
            <span class="specimen-row-value">{{RECEPTION_ADDRESS}}</span>
          </div>
          <div class="specimen-row">
            <span class="specimen-row-label">–í—Ä–µ–º–µ:</span>
            <span class="specimen-row-value">{{RECEPTION_TIME}}</span>
          </div>
          {{#IF_RECEPTION_MAP}}
          <div class="specimen-row">
            <span class="specimen-row-label">–ú–∞–ø–∞:</span>
            <span class="specimen-row-value">
              <a href="{{RECEPTION_MAP_URL}}" target="_blank" class="specimen-link">–ü–æ–≥–ª–µ–¥–∞—ò –ª–æ–∫–∞—Ü–∏—ò—É ‚Üí</a>
            </span>
          </div>
          {{/IF_RECEPTION_MAP}}
        </div>
      </div>
    </section>

    <!-- Field Notes RSVP -->
    <section class="specimen-page">
      <div class="field-notes grow-in">
        <div class="field-header">–¢–µ—Ä–µ–Ω—Å–∫–µ –±–µ–ª–µ—à–∫–µ</div>
        <div class="field-body">
          <div class="field-date">–†–æ–∫ –∑–∞ –æ–¥–≥–æ–≤–æ—Ä: {{RSVP_DEADLINE}}</div>

          <form id="rsvp-form">
            <input type="hidden" name="wedding_slug" value="{{WEDDING_SLUG}}">

            <div class="form-group">
              <label class="form-label">–ò–º–µ –ø–æ—Å–º–∞—Ç—Ä–∞—á–∞:</label>
              <input type="text" name="guest_name" class="form-input" required>
            </div>

            <div class="form-group">
              <label class="form-label">–ü—Ä–∏—Å—É—Å—Ç–≤–æ –Ω–∞ —Ç–µ—Ä–µ–Ω—É:</label>
              <div class="attendance-options">
                <label class="radio-label">
                  <input type="radio" name="attending" value="yes" required>
                  <span>–ü—Ä–∏—Å—É—Ç–∞–Ω</span>
                </label>
                <label class="radio-label">
                  <input type="radio" name="attending" value="no">
                  <span>–û–¥—Å—É—Ç–∞–Ω</span>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">–ë—Ä–æ—ò —É –≥—Ä—É–ø–∏:</label>
              <input type="number" name="guest_count" class="form-input" min="1" max="10" value="1">
            </div>

            {{#IF_MEAL_OPTIONS}}
            <div class="form-group">
              <label class="form-label">–ü—Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏—ò–µ –∏—Å—Ö—Ä–∞–Ω–µ:</label>
              <select name="meal_preference" class="form-select">
                {{MEAL_OPTIONS}}
              </select>
            </div>
            {{/IF_MEAL_OPTIONS}}

            <div class="form-group">
              <label class="form-label">–î–æ–¥–∞—Ç–Ω–µ –Ω–∞–ø–æ–º–µ–Ω–µ:</label>
              <textarea name="message" class="form-textarea"></textarea>
            </div>

            <button type="submit" class="submit-btn">–ó–∞–±–µ–ª–µ–∂–∏ –æ–¥–≥–æ–≤–æ—Ä</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      {{#IF_HASHTAG}}
      <div class="footer-hashtag">#{{WEDDING_HASHTAG}}</div>
      {{/IF_HASHTAG}}
      <div class="footer-botanical">üåø üå∏ üçÉ</div>
    </footer>

  </div>

  <script>
    // Scroll reveal - growing animation
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.2 });

    document.querySelectorAll('.grow-in').forEach(el => observer.observe(el));

    // Form submission
    document.getElementById('rsvp-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch('{{RSVP_SCRIPT_URL}}', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          e.target.innerHTML = '<div style="text-align:center;padding:2rem;"><h3 style="font-family:Playfair Display,serif;font-size:1.5rem;margin-bottom:1rem;">–ó–∞–±–µ–ª–µ–∂–µ–Ω–æ! üåø</h3><p style="color:var(--color-text-muted);font-style:italic;">–í–∞—à–µ –ø—Ä–∏—Å—É—Å—Ç–≤–æ —ò–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–æ —É —Ö–µ—Ä–±–∞—Ä–∏—ò—É–º—É.</p></div>';
        }
      } catch (error) {
        console.error('Error:', error);
      }
    });
  </script>
</body>
</html>
