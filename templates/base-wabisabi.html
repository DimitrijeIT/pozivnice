<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{BRIDE_NAME}} & {{GROOM_NAME}} - –í–µ–Ω—á–∞—ö–µ</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üçÉ</text></svg>">
  {{THEME_FONTS}}
  {{THEME_CSS}}
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --color-bg: #F5F0E8;
      --color-surface: #FAF7F2;
      --color-text: #3D3D3D;
      --color-text-muted: #6B6560;
      --color-accent: #8B7355;
      --color-highlight: #C9B8A6;
      --color-border: #E0DCD5;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Crimson Text', Georgia, serif;
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.8;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Paper texture overlay */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 1000;
    }

    /* Scroll container */
    .scroll-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    /* Section base */
    .section {
      padding: 6rem 0;
      position: relative;
    }

    /* Hero - Brush stroke reveal */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 4rem 0;
      position: relative;
    }

    .brush-stroke {
      position: absolute;
      width: 120%;
      height: 300px;
      left: -10%;
      top: 50%;
      transform: translateY(-50%);
      background: linear-gradient(90deg,
        transparent 0%,
        var(--color-highlight) 20%,
        var(--color-highlight) 80%,
        transparent 100%
      );
      opacity: 0.3;
      border-radius: 50%;
      filter: blur(30px);
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero-names {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: clamp(2.5rem, 8vw, 4rem);
      font-weight: 400;
      letter-spacing: 0.1em;
      margin-bottom: 2rem;
      text-align: left;
      padding-left: 15%;
      opacity: 0;
      transform: translateY(30px);
      animation: fadeInUp 1.2s ease-out 0.5s forwards;
    }

    .hero-names .name {
      display: block;
      line-height: 1.3;
    }

    .hero-names .ampersand {
      display: block;
      font-style: italic;
      font-size: 0.6em;
      color: var(--color-accent);
      margin: 0.5rem 0;
      padding-left: 10%;
    }

    .hero-date {
      font-size: 1.1rem;
      letter-spacing: 0.3em;
      color: var(--color-text-muted);
      text-align: right;
      padding-right: 15%;
      opacity: 0;
      animation: fadeInUp 1.2s ease-out 1s forwards;
    }

    /* Asymmetric content blocks */
    .content-block {
      position: relative;
      margin: 4rem 0;
      opacity: 0;
      transform: translateY(40px);
      transition: all 0.8s ease-out;
    }

    .content-block.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .content-block--left {
      text-align: left;
      padding-right: 20%;
    }

    .content-block--right {
      text-align: right;
      padding-left: 20%;
    }

    .content-block--center {
      text-align: center;
      padding: 0 10%;
    }

    /* Organic decorations */
    .organic-line {
      width: 60px;
      height: 2px;
      background: var(--color-accent);
      margin: 1.5rem 0;
      opacity: 0.5;
    }

    .content-block--right .organic-line {
      margin-left: auto;
    }

    .content-block--center .organic-line {
      margin: 1.5rem auto;
    }

    /* Nature illustrations */
    .nature-element {
      position: absolute;
      opacity: 0.15;
      pointer-events: none;
    }

    .nature-element--branch {
      font-size: 4rem;
      color: var(--color-accent);
    }

    /* Section titles */
    .section-title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.5rem;
      font-weight: 400;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--color-accent);
      margin-bottom: 2rem;
    }

    /* Invitation text */
    .invitation-intro {
      font-style: italic;
      font-size: 1.1rem;
      color: var(--color-text-muted);
      margin-bottom: 1.5rem;
    }

    .invitation-text {
      font-size: 1.2rem;
      line-height: 2;
      max-width: 500px;
    }

    .content-block--right .invitation-text {
      margin-left: auto;
    }

    /* Floating leaf cards */
    .leaf-card {
      background: var(--color-surface);
      padding: 2.5rem;
      border-radius: 4px 20px 4px 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.05);
      position: relative;
      margin: 2rem 0;
    }

    .leaf-card::before {
      content: '';
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 1px solid var(--color-border);
      border-radius: 4px 20px 4px 20px;
      opacity: 0.5;
    }

    .leaf-card--offset {
      transform: rotate(-1deg);
    }

    .leaf-card--offset-reverse {
      transform: rotate(1deg);
    }

    /* Venue details */
    .venue-section {
      display: flex;
      flex-direction: column;
      gap: 3rem;
    }

    .venue-card {
      padding: 2rem;
      background: var(--color-surface);
      border-left: 3px solid var(--color-accent);
    }

    .venue-label {
      font-size: 0.75rem;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: var(--color-accent);
      margin-bottom: 0.5rem;
    }

    .venue-name {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.5rem;
      margin-bottom: 0.75rem;
    }

    .venue-address {
      color: var(--color-text-muted);
      margin-bottom: 0.5rem;
    }

    .venue-time {
      font-weight: 500;
    }

    .venue-link {
      display: inline-block;
      margin-top: 1rem;
      color: var(--color-accent);
      text-decoration: none;
      font-size: 0.9rem;
      border-bottom: 1px solid var(--color-accent);
    }

    /* Story section */
    {{#IF_STORY}}
    .story-text {
      font-size: 1.1rem;
      line-height: 2.2;
      font-style: italic;
      color: var(--color-text-muted);
      max-width: 600px;
    }

    .content-block--left .story-text {
      margin-right: auto;
    }
    {{/IF_STORY}}

    /* RSVP Form */
    .rsvp-section {
      background: var(--color-surface);
      padding: 4rem 2rem;
      margin: 4rem -2rem;
      position: relative;
    }

    .rsvp-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg width='100' height='20' viewBox='0 0 100 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 20 Q25 0 50 20 T100 20' fill='none' stroke='%23C9B8A6' stroke-width='0.5' opacity='0.3'/%3E%3C/svg%3E") repeat-x;
      background-size: 100px 20px;
      pointer-events: none;
    }

    .rsvp-title {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.8rem;
      text-align: center;
      margin-bottom: 0.5rem;
    }

    .rsvp-subtitle {
      text-align: center;
      color: var(--color-text-muted);
      font-size: 0.9rem;
      margin-bottom: 2.5rem;
    }

    .rsvp-form {
      max-width: 400px;
      margin: 0 auto;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      font-size: 0.8rem;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--color-text-muted);
      margin-bottom: 0.5rem;
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      padding: 0.875rem 1rem;
      border: none;
      border-bottom: 1px solid var(--color-border);
      background: transparent;
      font-family: inherit;
      font-size: 1rem;
      color: var(--color-text);
      transition: border-color 0.3s;
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      outline: none;
      border-color: var(--color-accent);
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    /* Hand-drawn checkbox style */
    .attendance-options {
      display: flex;
      gap: 2rem;
      justify-content: center;
      margin: 1.5rem 0;
    }

    .radio-label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
    }

    .radio-label input {
      appearance: none;
      width: 20px;
      height: 20px;
      border: 2px solid var(--color-accent);
      border-radius: 50%;
      cursor: pointer;
      position: relative;
    }

    .radio-label input:checked::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      background: var(--color-accent);
      border-radius: 50%;
    }

    .submit-btn {
      width: 100%;
      padding: 1rem 2rem;
      background: var(--color-accent);
      color: var(--color-bg);
      border: none;
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.1rem;
      letter-spacing: 0.15em;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 1rem;
    }

    .submit-btn:hover {
      background: var(--color-text);
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 4rem 0;
      color: var(--color-text-muted);
    }

    {{#IF_HASHTAG}}
    .footer-hashtag {
      font-family: 'Cormorant Garamond', Georgia, serif;
      font-size: 1.3rem;
      color: var(--color-accent);
      margin-bottom: 1rem;
    }
    {{/IF_HASHTAG}}

    .footer-date {
      font-size: 0.9rem;
      letter-spacing: 0.2em;
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Imperfect mode - subtle random rotations */
    .imperfect-1 { transform: rotate(-0.3deg); }
    .imperfect-2 { transform: rotate(0.5deg); }
    .imperfect-3 { transform: rotate(-0.4deg); }

    /* Responsive */
    @media (max-width: 600px) {
      .scroll-container {
        padding: 0 1.5rem;
      }

      .content-block--left,
      .content-block--right {
        padding-left: 0;
        padding-right: 0;
      }

      .hero-names {
        padding-left: 0;
        text-align: center;
      }

      .hero-names .ampersand {
        padding-left: 0;
      }

      .hero-date {
        padding-right: 0;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="scroll-container">

    <!-- Hero Section -->
    <section class="hero section">
      <div class="brush-stroke"></div>
      <div class="hero-content">
        <h1 class="hero-names imperfect-1">
          <span class="name">{{BRIDE_NAME}}</span>
          <span class="ampersand">„Å®</span>
          <span class="name">{{GROOM_NAME}}</span>
        </h1>
        <p class="hero-date">{{WEDDING_DATE_FORMATTED}}</p>
      </div>
    </section>

    <!-- Invitation -->
    <section class="section">
      <div class="content-block content-block--right imperfect-2">
        <div class="section-title">–ø–æ–∑–∏–≤</div>
        <div class="organic-line"></div>
        <p class="invitation-intro">{{INVITATION_INTRO}}</p>
        <p class="invitation-text">{{INVITATION_TEXT}}</p>
      </div>
    </section>

    <!-- Story -->
    {{#IF_STORY}}
    <section class="section">
      <div class="content-block content-block--left imperfect-3">
        <div class="section-title">–Ω–∞—à–∞ –ø—Ä–∏—á–∞</div>
        <div class="organic-line"></div>
        <p class="story-text">{{STORY_TEXT}}</p>
      </div>
    </section>
    {{/IF_STORY}}

    <!-- Venues -->
    <section class="section">
      <div class="content-block content-block--center">
        <div class="section-title">–¥–µ—Ç–∞—ô–∏</div>
        <div class="organic-line"></div>

        <div class="venue-section">
          <div class="leaf-card leaf-card--offset">
            <div class="venue-label">–≤–µ–Ω—á–∞—ö–µ</div>
            <div class="venue-name">{{CEREMONY_VENUE}}</div>
            <div class="venue-address">{{CEREMONY_ADDRESS}}</div>
            <div class="venue-time">{{CEREMONY_TIME}}</div>
            {{#IF_CEREMONY_MAP}}
            <a href="{{CEREMONY_MAP_URL}}" target="_blank" class="venue-link">–ø–æ–≥–ª–µ–¥–∞—ò –Ω–∞ –º–∞–ø–∏ ‚Üí</a>
            {{/IF_CEREMONY_MAP}}
          </div>

          <div class="leaf-card leaf-card--offset-reverse">
            <div class="venue-label">–ø—Ä–æ—Å–ª–∞–≤–∞</div>
            <div class="venue-name">{{RECEPTION_VENUE}}</div>
            <div class="venue-address">{{RECEPTION_ADDRESS}}</div>
            <div class="venue-time">{{RECEPTION_TIME}}</div>
            {{#IF_RECEPTION_MAP}}
            <a href="{{RECEPTION_MAP_URL}}" target="_blank" class="venue-link">–ø–æ–≥–ª–µ–¥–∞—ò –Ω–∞ –º–∞–ø–∏ ‚Üí</a>
            {{/IF_RECEPTION_MAP}}
          </div>
        </div>
      </div>
    </section>

    <!-- RSVP -->
    <section class="rsvp-section">
      <h2 class="rsvp-title">–ü–æ—Ç–≤—Ä–¥–∞ –¥–æ–ª–∞—Å–∫–∞</h2>
      <p class="rsvp-subtitle">–ú–æ–ª–∏–º–æ –≤–∞—Å –¥–∞ –ø–æ—Ç–≤—Ä–¥–∏—Ç–µ –¥–æ {{RSVP_DEADLINE}}</p>

      <form class="rsvp-form" id="rsvp-form">
        <input type="hidden" name="wedding_slug" value="{{WEDDING_SLUG}}">

        <div class="form-group">
          <label class="form-label">–ò–º–µ –∏ –ø—Ä–µ–∑–∏–º–µ</label>
          <input type="text" name="guest_name" class="form-input" required>
        </div>

        <div class="form-group">
          <label class="form-label">–î–æ–ª–∞–∑–∞–∫</label>
          <div class="attendance-options">
            <label class="radio-label">
              <input type="radio" name="attending" value="yes" required>
              <span>–î–æ–ª–∞–∑–∏–º</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="attending" value="no">
              <span>–ù–µ –¥–æ–ª–∞–∑–∏–º</span>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">–ë—Ä–æ—ò –≥–æ—Å—Ç–∏—ò—É</label>
          <input type="number" name="guest_count" class="form-input" min="1" max="10" value="1">
        </div>

        {{#IF_MEAL_OPTIONS}}
        <div class="form-group">
          <label class="form-label">–ò—Å—Ö—Ä–∞–Ω–∞</label>
          <select name="meal_preference" class="form-select">
            {{MEAL_OPTIONS}}
          </select>
        </div>
        {{/IF_MEAL_OPTIONS}}

        <div class="form-group">
          <label class="form-label">–ü–æ—Ä—É–∫–∞ (–æ–ø—Ü–∏–æ–Ω–æ)</label>
          <textarea name="message" class="form-textarea"></textarea>
        </div>

        <button type="submit" class="submit-btn">–ü–æ—Ç–≤—Ä–¥–∏</button>
      </form>
    </section>

    <!-- Footer -->
    <footer class="footer">
      {{#IF_HASHTAG}}
      <div class="footer-hashtag">#{{WEDDING_HASHTAG}}</div>
      {{/IF_HASHTAG}}
      <div class="footer-date">{{WEDDING_DATE_FORMATTED}}</div>
    </footer>

  </div>

  <script>
    // Scroll reveal animation
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.2 });

    document.querySelectorAll('.content-block').forEach(block => {
      observer.observe(block);
    });

    // Form submission
    document.getElementById('rsvp-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(e.target);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch('{{RSVP_SCRIPT_URL}}', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          e.target.innerHTML = '<div style="text-align:center;padding:3rem 0;"><h3 style="font-family:Cormorant Garamond,serif;font-size:1.5rem;margin-bottom:1rem;">–•–≤–∞–ª–∞! üçÉ</h3><p style="color:var(--color-text-muted);">–í–∞—à–∞ –ø–æ—Ç–≤—Ä–¥–∞ —ò–µ –∑–∞–±–µ–ª–µ–∂–µ–Ω–∞.</p></div>';
        }
      } catch (error) {
        console.error('Error:', error);
      }
    });
  </script>
</body>
</html>
